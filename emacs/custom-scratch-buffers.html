<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width = device-width" />
<link rel="stylesheet" type="text/css" href="/style.css" />
<title>Custom Scratch Buffers @overvale.com</title>
</head>
<body>
<header><p><a href="/">Overvale</a></p></header>
<main class="content-page emacs">
<div class="page-layout">
<aside class="sidebar-left">
<nav class="tree-nav" aria-label="Site Navigation">
<ul class="tree-root">
  <li class="tree-group"><span class="tree-group-label">Writing</span>
    <ul>
      <li><a href="/writing/structured-to-innovate">DARPA, Skunk Works, &amp; Bell Labs: Structured to Innovate</a></li>
      <li><a href="/writing/systems-engineering-nasa">Systems Engineering at NASA</a></li>
      <li><a href="/writing/systems-engineering-vfx">Systems Engineering for Visual Effects</a></li>
    </ul>
  </li>
  <li><a href="/notes/">Notes</a></li>
  <li><a href="/emacs/" class="active">Emacs Notes</a></li>
  <li><a href="/links">Links</a></li>
</ul>
</nav>
</aside>

<article class="content-main">
<h1>Custom Scratch Buffers</h1>

<p class="date">2021, August</p>

<p>It can be useful to create temporary scratch buffers in specific languages. <a href="https://melpa.org/#/?q=scratch%20buffer">A number of packages exist to help you do this</a>. I, however, prefer writing code over installing packages, so I came up with the following:</p>
<pre class="elisp"><code>(defvar scratch-org-initial-message &quot;# Org Mode Scratch Buffer\n\n&quot;
  &quot;Message to be inserted in org scratch buffer.&quot;)

(defvar scratch-org-buffer &quot;*scratch-org*&quot;
  &quot;Name of org-mode scratch buffer.&quot;)

(defun scratch-buffer-org ()
  &quot;Create a *scratch* buffer in Org Mode and switch to it.&quot;
  (interactive)
  (let ((buf scratch-org-buffer))
    (if (get-buffer buf)
        (switch-to-buffer buf)
      (progn
        (switch-to-buffer buf)
        (org-mode)
        (with-current-buffer buf
          (setq-local buffer-confirm-kill t)
          (setq-local buffer-offer-save t)
          (insert scratch-org-initial-message)
          (not-modified))))))</code></pre>
<p>The above function sets the variable <code>buffer-confirm-kill</code> which I wrote <a href="/emacs/buffer-confirm-kill">a separate note about</a>.</p>

<nav class="footer-nav tree-nav" aria-label="Site Navigation">
<ul class="tree-root">
  <li class="tree-group"><span class="tree-group-label">Writing</span>
    <ul>
      <li><a href="/writing/structured-to-innovate">DARPA, Skunk Works, &amp; Bell Labs: Structured to Innovate</a></li>
      <li><a href="/writing/systems-engineering-nasa">Systems Engineering at NASA</a></li>
      <li><a href="/writing/systems-engineering-vfx">Systems Engineering for Visual Effects</a></li>
    </ul>
  </li>
  <li><a href="/notes/">Notes</a></li>
  <li><a href="/emacs/" class="active">Emacs Notes</a></li>
  <li><a href="/links">Links</a></li>
</ul>
</nav>

<footer>
</footer>
</article>

<aside class="sidebar-right">
</aside>
</div>
</main>
</body>
</html>
