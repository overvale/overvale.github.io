<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width = device-width" />
<link rel="stylesheet" type="text/css" href="/style.css" />
<title>Keymap Prompts @overvale.com</title>
</head>
<body>
<header><p><a href="/">Overvale</a></p></header>
<main class="content-page emacs">
<div class="page-layout">
<aside class="sidebar-left">
<nav class="tree-nav" aria-label="Site Navigation">
<ul class="tree-root">
  <li class="tree-group"><span class="tree-group-label">Writing</span>
    <ul>
      <li><a href="/writing/structured-to-innovate.html">DARPA, Skunk Works, &amp; Bell Labs: Structured to Innovate</a></li>
      <li><a href="/writing/systems-engineering-nasa.html">Systems Engineering at NASA</a></li>
      <li><a href="/writing/systems-engineering-vfx.html">Systems Engineering for Visual Effects</a></li>
    </ul>
  </li>
  <li><a href="/notes/">Notes</a></li>
  <li><a href="/emacs/" class="active">Emacs Notes</a></li>
  <li><a href="/links.html">Links</a></li>
</ul>
</nav>
</aside>

<article class="content-main">
<h1>Keymap Prompts</h1>

<p class="date">2021, Summer</p>

<p>If you bind a key to a keymap Emacs will display a useful prompt in the echo area. Quite handy for rarely used keymaps with only a few bindings.</p>
<p>This is (of course) well documented in the Emacs info manuals, but my discovery of it should be credited to <a href="https://old.reddit.com/r/emacs/comments/ch016m/how_to_tell_if_a_keymap_is_active/euz3rfs/?context=3">u/oantolin on reddit</a>.</p>
<p>Minor update: it is better to use <code>define-prefix-command</code> as this creates both a keymap and an interactive function. Iâ€™ve found that binding a key to a variable, instead of an interactive function, is not widely supported.</p>
<pre class="elisp"><code>(define-prefix-command &#39;pkg-ops-map nil &quot;Packages&quot;)

(let ((map pkg-ops-map))
  (define-key map &quot;h&quot; &#39;(&quot;describe&quot; . describe-package))
  (define-key map &quot;a&quot; &#39;(&quot;autoremove&quot; . package-autoremove))
  (define-key map &quot;d&quot; &#39;(&quot;delete&quot; . package-delete))
  (define-key map &quot;i&quot; &#39;(&quot;install&quot; . package-install))
  (define-key map &quot;s&quot; &#39;(&quot;selected&quot; . package-install-selected-packages))
  (define-key map &quot;r&quot; &#39;(&quot;refresh&quot; . package-refresh-contents))
  (define-key map &quot;l&quot; &#39;(&quot;list&quot; . list-packages)))

(global-set-key (kbd &quot;C-c p&quot;) &#39;pkg-ops-map)</code></pre>

<nav class="footer-nav tree-nav" aria-label="Site Navigation">
<ul class="tree-root">
  <li class="tree-group"><span class="tree-group-label">Writing</span>
    <ul>
      <li><a href="/writing/structured-to-innovate.html">DARPA, Skunk Works, &amp; Bell Labs: Structured to Innovate</a></li>
      <li><a href="/writing/systems-engineering-nasa.html">Systems Engineering at NASA</a></li>
      <li><a href="/writing/systems-engineering-vfx.html">Systems Engineering for Visual Effects</a></li>
    </ul>
  </li>
  <li><a href="/notes/">Notes</a></li>
  <li><a href="/emacs/" class="active">Emacs Notes</a></li>
  <li><a href="/links.html">Links</a></li>
</ul>
</nav>

<footer>
</footer>
</article>

<aside class="sidebar-right">
</aside>
</div>
</main>
</body>
</html>
